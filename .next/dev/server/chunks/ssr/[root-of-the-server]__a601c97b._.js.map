{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/antigravity/SajangnimBiseo/src/lib/actions/store.ts"],"sourcesContent":["\"use server\";\r\n\r\nimport { createClient } from \"@/lib/supabase/server\";\r\nimport * as cheerio from \"cheerio\";\r\n\r\nexport type ExtractResult = {\r\n    success: boolean;\r\n    name?: string;\r\n    error?: string;\r\n};\r\n\r\nexport type RegisterResult = {\r\n    success: boolean;\r\n    error?: string;\r\n};\r\n\r\n/**\r\n * Extracts the store name from the given Naver Map URL.\r\n */\r\nexport async function extractStoreName(url: string): Promise<ExtractResult> {\r\n    if (!url) {\r\n        return { success: false, error: \"URL을 입력해주세요.\" };\r\n    }\r\n\r\n    try {\r\n        // 1. Follow redirects (short URL -> full URL)\r\n        // We use a desktop UA for the initial fetch to ensure correct redirection behavior,\r\n        // although Naver often redirects correctly with any UA.\r\n        const initialResponse = await fetch(url, {\r\n            redirect: \"follow\",\r\n            headers: {\r\n                \"User-Agent\":\r\n                    \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\",\r\n            },\r\n        });\r\n\r\n        if (!initialResponse.ok) {\r\n            return { success: false, error: \"URL에 접근할 수 없습니다.\" };\r\n        }\r\n\r\n        const finalUrl = initialResponse.url;\r\n\r\n        // 2. Extract Place ID from the final URL\r\n        // Patterns:\r\n        // https://map.naver.com/p/entry/place/2043252871?...\r\n        // https://m.place.naver.com/restaurant/2043252871/...\r\n        const placeIdMatch = finalUrl.match(/place\\/(\\d+)/) || finalUrl.match(/restaurant\\/(\\d+)/);\r\n\r\n        if (!placeIdMatch) {\r\n            // Fallback: Try parsing the initial HTML if it's not a standard map URL but still contains title\r\n            // (Unlikely for Naver Map shortlinks, but safety net)\r\n            const html = await initialResponse.text();\r\n            const $ = cheerio.load(html);\r\n            let title = $('meta[property=\"og:title\"]').attr(\"content\") || $(\"title\").text();\r\n            if (title && title !== \"네이버지도\" && title !== \"네이버 플레이스\") {\r\n                title = title.replace(/ - 네이버 지도.*$/, \"\").replace(/ : 네이버.*$/, \"\").trim();\r\n                return { success: true, name: title };\r\n            }\r\n            return { success: false, error: \"매장 ID를 찾을 수 없습니다.\" };\r\n        }\r\n\r\n        const placeId = placeIdMatch[1];\r\n\r\n        // 3. Fetch Mobile Place URL for SSR Content\r\n        // m.place.naver.com returns Server-Side Rendered HTML suitable for crawlers if we use a mobile UA\r\n        const mobileUrl = `https://m.place.naver.com/place/${placeId}/home`;\r\n\r\n        const mobileResponse = await fetch(mobileUrl, {\r\n            headers: {\r\n                \"User-Agent\":\r\n                    \"Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1\",\r\n            },\r\n        });\r\n\r\n        if (!mobileResponse.ok) {\r\n            return { success: false, error: \"매장 정보를 가져올 수 없습니다.\" };\r\n        }\r\n\r\n        const html = await mobileResponse.text();\r\n        const $ = cheerio.load(html);\r\n\r\n        // 4. Extract Title\r\n        let title = $('meta[property=\"og:title\"]').attr(\"content\");\r\n\r\n        if (!title) {\r\n            // Fallback to title tag\r\n            title = $(\"title\").text();\r\n        }\r\n\r\n        if (!title) {\r\n            return { success: false, error: \"매장명을 찾을 수 없습니다.\" };\r\n        }\r\n\r\n        // 5. Clean up title\r\n        // Example: \"누리마을감자탕 영도점 : 네이버\" -> \"누리마을감자탕 영도점\"\r\n        title = title.replace(/ : 네이버.*$/, \"\").replace(/ - 네이버 지도.*$/, \"\").trim();\r\n\r\n        return { success: true, name: title };\r\n\r\n    } catch (error) {\r\n        console.error(\"Error extracting store name:\", error);\r\n        return { success: false, error: \"매장명 추출 중 시스템 오류가 발생했습니다.\" };\r\n    }\r\n}\r\n\r\n/**\r\n * Registers the store in the database.\r\n */\r\nexport async function registerStore(name: string, url: string): Promise<RegisterResult> {\r\n    try {\r\n        const supabase = await createClient();\r\n\r\n        // Get current user (required for RLS)\r\n        const { data: { user } } = await supabase.auth.getUser();\r\n\r\n        if (!user) {\r\n            return { success: false, error: \"로그인이 필요합니다.\" };\r\n        }\r\n\r\n        // Insert into store_management\r\n        // Note: We are using the types we manually updated\r\n        const { error } = await supabase\r\n            .from(\"store_management\")\r\n            .insert({\r\n                store_name: name,\r\n                store_url: url,\r\n                user_id: user.id,\r\n            });\r\n\r\n        if (error) {\r\n            console.error(\"Supabase insert error:\", error);\r\n            return { success: false, error: \"매장 등록에 실패했습니다.\" };\r\n        }\r\n\r\n        return { success: true };\r\n    } catch (error) {\r\n        console.error(\"Register store error:\", error);\r\n        return { success: false, error: \"매장 등록 중 오류가 발생했습니다.\" };\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;MAmBsB,wBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA,oDAAA"}},
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/antigravity/SajangnimBiseo/src/lib/actions/store.ts"],"sourcesContent":["\"use server\";\r\n\r\nimport { createClient } from \"@/lib/supabase/server\";\r\nimport * as cheerio from \"cheerio\";\r\n\r\nexport type ExtractResult = {\r\n    success: boolean;\r\n    name?: string;\r\n    error?: string;\r\n};\r\n\r\nexport type RegisterResult = {\r\n    success: boolean;\r\n    error?: string;\r\n};\r\n\r\n/**\r\n * Extracts the store name from the given Naver Map URL.\r\n */\r\nexport async function extractStoreName(url: string): Promise<ExtractResult> {\r\n    if (!url) {\r\n        return { success: false, error: \"URL을 입력해주세요.\" };\r\n    }\r\n\r\n    try {\r\n        // 1. Follow redirects (short URL -> full URL)\r\n        // We use a desktop UA for the initial fetch to ensure correct redirection behavior,\r\n        // although Naver often redirects correctly with any UA.\r\n        const initialResponse = await fetch(url, {\r\n            redirect: \"follow\",\r\n            headers: {\r\n                \"User-Agent\":\r\n                    \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\",\r\n            },\r\n        });\r\n\r\n        if (!initialResponse.ok) {\r\n            return { success: false, error: \"URL에 접근할 수 없습니다.\" };\r\n        }\r\n\r\n        const finalUrl = initialResponse.url;\r\n\r\n        // 2. Extract Place ID from the final URL\r\n        // Patterns:\r\n        // https://map.naver.com/p/entry/place/2043252871?...\r\n        // https://m.place.naver.com/restaurant/2043252871/...\r\n        const placeIdMatch = finalUrl.match(/place\\/(\\d+)/) || finalUrl.match(/restaurant\\/(\\d+)/);\r\n\r\n        if (!placeIdMatch) {\r\n            // Fallback: Try parsing the initial HTML if it's not a standard map URL but still contains title\r\n            // (Unlikely for Naver Map shortlinks, but safety net)\r\n            const html = await initialResponse.text();\r\n            const $ = cheerio.load(html);\r\n            let title = $('meta[property=\"og:title\"]').attr(\"content\") || $(\"title\").text();\r\n            if (title && title !== \"네이버지도\" && title !== \"네이버 플레이스\") {\r\n                title = title.replace(/ - 네이버 지도.*$/, \"\").replace(/ : 네이버.*$/, \"\").trim();\r\n                return { success: true, name: title };\r\n            }\r\n            return { success: false, error: \"매장 ID를 찾을 수 없습니다.\" };\r\n        }\r\n\r\n        const placeId = placeIdMatch[1];\r\n\r\n        // 3. Fetch Mobile Place URL for SSR Content\r\n        // m.place.naver.com returns Server-Side Rendered HTML suitable for crawlers if we use a mobile UA\r\n        const mobileUrl = `https://m.place.naver.com/place/${placeId}/home`;\r\n\r\n        const mobileResponse = await fetch(mobileUrl, {\r\n            headers: {\r\n                \"User-Agent\":\r\n                    \"Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1\",\r\n            },\r\n        });\r\n\r\n        if (!mobileResponse.ok) {\r\n            return { success: false, error: \"매장 정보를 가져올 수 없습니다.\" };\r\n        }\r\n\r\n        const html = await mobileResponse.text();\r\n        const $ = cheerio.load(html);\r\n\r\n        // 4. Extract Title\r\n        let title = $('meta[property=\"og:title\"]').attr(\"content\");\r\n\r\n        if (!title) {\r\n            // Fallback to title tag\r\n            title = $(\"title\").text();\r\n        }\r\n\r\n        if (!title) {\r\n            return { success: false, error: \"매장명을 찾을 수 없습니다.\" };\r\n        }\r\n\r\n        // 5. Clean up title\r\n        // Example: \"누리마을감자탕 영도점 : 네이버\" -> \"누리마을감자탕 영도점\"\r\n        title = title.replace(/ : 네이버.*$/, \"\").replace(/ - 네이버 지도.*$/, \"\").trim();\r\n\r\n        return { success: true, name: title };\r\n\r\n    } catch (error) {\r\n        console.error(\"Error extracting store name:\", error);\r\n        return { success: false, error: \"매장명 추출 중 시스템 오류가 발생했습니다.\" };\r\n    }\r\n}\r\n\r\n/**\r\n * Registers the store in the database.\r\n */\r\nexport async function registerStore(name: string, url: string): Promise<RegisterResult> {\r\n    try {\r\n        const supabase = await createClient();\r\n\r\n        // Get current user (required for RLS)\r\n        const { data: { user } } = await supabase.auth.getUser();\r\n\r\n        if (!user) {\r\n            return { success: false, error: \"로그인이 필요합니다.\" };\r\n        }\r\n\r\n        // Insert into store_management\r\n        // Note: We are using the types we manually updated\r\n        const { error } = await supabase\r\n            .from(\"store_management\")\r\n            .insert({\r\n                store_name: name,\r\n                store_url: url,\r\n                user_id: user.id,\r\n            });\r\n\r\n        if (error) {\r\n            console.error(\"Supabase insert error:\", error);\r\n            return { success: false, error: \"매장 등록에 실패했습니다.\" };\r\n        }\r\n\r\n        return { success: true };\r\n    } catch (error) {\r\n        console.error(\"Register store error:\", error);\r\n        return { success: false, error: \"매장 등록 중 오류가 발생했습니다.\" };\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;MA4GsB,wBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA,iDAAA"}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/antigravity/SajangnimBiseo/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from 'clsx'\r\nimport { twMerge } from 'tailwind-merge'\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n    return twMerge(clsx(inputs))\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACtC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACxB"}},
    {"offset": {"line": 53, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/antigravity/SajangnimBiseo/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n    \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\r\n    {\r\n        variants: {\r\n            variant: {\r\n                default:\r\n                    \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\r\n                destructive:\r\n                    \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\r\n                outline:\r\n                    \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\r\n                secondary:\r\n                    \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\r\n                ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n                link: \"text-primary underline-offset-4 hover:underline\",\r\n            },\r\n            size: {\r\n                default: \"h-9 px-4 py-2\",\r\n                sm: \"h-8 rounded-md px-3 text-xs\",\r\n                lg: \"h-10 rounded-md px-8\",\r\n                icon: \"h-9 w-9\",\r\n            },\r\n        },\r\n        defaultVariants: {\r\n            variant: \"default\",\r\n            size: \"default\",\r\n        },\r\n    }\r\n)\r\n\r\nexport interface ButtonProps\r\n    extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n    asChild?: boolean\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n    ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n        const Comp = asChild ? Slot : \"button\"\r\n        return (\r\n            <Comp\r\n                className={cn(buttonVariants({ variant, size, className }))}\r\n                ref={ref}\r\n                {...props}\r\n            />\r\n        )\r\n    }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACtB,ySACA;IACI,UAAU;QACN,SAAS;YACL,SACI;YACJ,aACI;YACJ,SACI;YACJ,WACI;YACJ,OAAO;YACP,MAAM;QACV;QACA,MAAM;YACF,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACV;IACJ;IACA,iBAAiB;QACb,SAAS;QACT,MAAM;IACV;AACJ;AASJ,MAAM,uBAAS,mNAAgB,CAC3B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACtD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAC9B,qBACI,8OAAC;QACG,WAAW,IAAA,yHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGrB;AAEJ,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 113, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/antigravity/SajangnimBiseo/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\r\n    ({ className, type, ...props }, ref) => {\r\n        return (\r\n            <input\r\n                type={type}\r\n                className={cn(\r\n                    \"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\r\n                    className\r\n                )}\r\n                ref={ref}\r\n                {...props}\r\n            />\r\n        )\r\n    }\r\n)\r\nInput.displayName = \"Input\"\r\n\r\nexport { Input }\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,mNAAgB,CAC1B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC5B,qBACI,8OAAC;QACG,MAAM;QACN,WAAW,IAAA,yHAAE,EACT,2WACA;QAEJ,KAAK;QACJ,GAAG,KAAK;;;;;;AAGrB;AAEJ,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 141, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/antigravity/SajangnimBiseo/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Card = React.forwardRef<\r\n    HTMLDivElement,\r\n    React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n    <div\r\n        ref={ref}\r\n        className={cn(\r\n            \"rounded-lg border border-slate-200 bg-white text-slate-950 shadow-sm\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nCard.displayName = \"Card\"\r\n\r\nconst CardHeader = React.forwardRef<\r\n    HTMLDivElement,\r\n    React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n    <div\r\n        ref={ref}\r\n        className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\r\n        {...props}\r\n    />\r\n))\r\nCardHeader.displayName = \"CardHeader\"\r\n\r\nconst CardTitle = React.forwardRef<\r\n    HTMLParagraphElement,\r\n    React.HTMLAttributes<HTMLHeadingElement>\r\n>(({ className, ...props }, ref) => (\r\n    <h3\r\n        ref={ref}\r\n        className={cn(\r\n            \"text-2xl font-semibold leading-none tracking-tight\",\r\n            className\r\n        )}\r\n        {...props}\r\n    />\r\n))\r\nCardTitle.displayName = \"CardTitle\"\r\n\r\nconst CardDescription = React.forwardRef<\r\n    HTMLParagraphElement,\r\n    React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => (\r\n    <p\r\n        ref={ref}\r\n        className={cn(\"text-sm text-slate-500\", className)}\r\n        {...props}\r\n    />\r\n))\r\nCardDescription.displayName = \"CardDescription\"\r\n\r\nconst CardContent = React.forwardRef<\r\n    HTMLDivElement,\r\n    React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n    <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\r\n))\r\nCardContent.displayName = \"CardContent\"\r\n\r\nconst CardFooter = React.forwardRef<\r\n    HTMLDivElement,\r\n    React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n    <div\r\n        ref={ref}\r\n        className={cn(\"flex items-center p-6 pt-0\", className)}\r\n        {...props}\r\n    />\r\n))\r\nCardFooter.displayName = \"CardFooter\"\r\n\r\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;;;;AAEA,MAAM,qBAAO,mNAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACG,KAAK;QACL,WAAW,IAAA,yHAAE,EACT,wEACA;QAEH,GAAG,KAAK;;;;;;AAGjB,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACG,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGjB,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACG,KAAK;QACL,WAAW,IAAA,yHAAE,EACT,sDACA;QAEH,GAAG,KAAK;;;;;;AAGjB,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACG,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,0BAA0B;QACvC,GAAG,KAAK;;;;;;AAGjB,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,yHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAElE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACG,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGjB,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 226, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/antigravity/SajangnimBiseo/src/components/ui/label.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst labelVariants = cva(\r\n    \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\r\n)\r\n\r\nconst Label = React.forwardRef<\r\n    React.ElementRef<typeof LabelPrimitive.Root>,\r\n    React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\r\n    VariantProps<typeof labelVariants>\r\n>(({ className, ...props }, ref) => (\r\n    <LabelPrimitive.Root\r\n        ref={ref}\r\n        className={cn(labelVariants(), className)}\r\n        {...props}\r\n    />\r\n))\r\nLabel.displayName = LabelPrimitive.Root.displayName\r\n\r\nexport { Label }\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACrB;AAGJ,MAAM,sBAAQ,mNAAgB,CAI5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC,yKAAmB;QAChB,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iBAAiB;QAC9B,GAAG,KAAK;;;;;;AAGjB,MAAM,WAAW,GAAG,yKAAmB,CAAC,WAAW"}},
    {"offset": {"line": 256, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/antigravity/SajangnimBiseo/src/components/ui/alert.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst alertVariants = cva(\r\n    \"relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\r\n    {\r\n        variants: {\r\n            variant: {\r\n                default: \"bg-background text-foreground\",\r\n                destructive:\r\n                    \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\r\n            },\r\n        },\r\n        defaultVariants: {\r\n            variant: \"default\",\r\n        },\r\n    }\r\n)\r\n\r\nconst Alert = React.forwardRef<\r\n    HTMLDivElement,\r\n    React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\r\n>(({ className, variant, ...props }, ref) => (\r\n    <div\r\n        ref={ref}\r\n        role=\"alert\"\r\n        className={cn(alertVariants({ variant }), className)}\r\n        {...props}\r\n    />\r\n))\r\nAlert.displayName = \"Alert\"\r\n\r\nconst AlertTitle = React.forwardRef<\r\n    HTMLParagraphElement,\r\n    React.HTMLAttributes<HTMLHeadingElement>\r\n>(({ className, ...props }, ref) => (\r\n    <h5\r\n        ref={ref}\r\n        className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\r\n        {...props}\r\n    />\r\n))\r\nAlertTitle.displayName = \"AlertTitle\"\r\n\r\nconst AlertDescription = React.forwardRef<\r\n    HTMLParagraphElement,\r\n    React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => (\r\n    <div\r\n        ref={ref}\r\n        className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\r\n        {...props}\r\n    />\r\n))\r\nAlertDescription.displayName = \"AlertDescription\"\r\n\r\nexport { Alert, AlertTitle, AlertDescription }\r\n"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACrB,4JACA;IACI,UAAU;QACN,SAAS;YACL,SAAS;YACT,aACI;QACR;IACJ;IACA,iBAAiB;QACb,SAAS;IACb;AACJ;AAGJ,MAAM,sBAAQ,mNAAgB,CAG5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE,oBACjC,8OAAC;QACG,KAAK;QACL,MAAK;QACL,WAAW,IAAA,yHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGjB,MAAM,WAAW,GAAG;AAEpB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACG,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGjB,WAAW,WAAW,GAAG;AAEzB,MAAM,iCAAmB,mNAAgB,CAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACG,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGjB,iBAAiB,WAAW,GAAG"}},
    {"offset": {"line": 321, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/antigravity/SajangnimBiseo/src/app/analytics/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport { extractStoreName, registerStore } from \"@/lib/actions/store\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Card, CardHeader, CardTitle, CardContent } from \"@/components/ui/card\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { AlertCircle, CheckCircle, Search, Store } from \"lucide-react\";\r\nimport { Alert, AlertDescription, AlertTitle } from \"@/components/ui/alert\";\r\n\r\nexport default function AnalyticsPage() {\r\n    const [storeUrl, setStoreUrl] = useState(\"\");\r\n    const [extractedName, setExtractedName] = useState(\"\");\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [isRegistering, setIsRegistering] = useState(false);\r\n    const [error, setError] = useState(\"\");\r\n    const [successMessage, setSuccessMessage] = useState(\"\");\r\n\r\n    const handleExtract = async () => {\r\n        if (!storeUrl) {\r\n            setError(\"매장 URL을 입력해주세요.\");\r\n            return;\r\n        }\r\n\r\n        setIsLoading(true);\r\n        setError(\"\");\r\n        setSuccessMessage(\"\");\r\n        setExtractedName(\"\");\r\n\r\n        try {\r\n            const result = await extractStoreName(storeUrl);\r\n            if (result.success && result.name) {\r\n                setExtractedName(result.name);\r\n            } else {\r\n                setError(result.error || \"매장명을 추출할 수 없습니다.\");\r\n            }\r\n        } catch (e) {\r\n            console.error(e)\r\n            setError(\"매장명 추출 중 오류가 발생했습니다.\");\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleRegister = async () => {\r\n        if (!extractedName || !storeUrl) return;\r\n\r\n        setIsRegistering(true);\r\n        setError(\"\");\r\n        setSuccessMessage(\"\");\r\n\r\n        try {\r\n            const result = await registerStore(extractedName, storeUrl);\r\n            if (result.success) {\r\n                setSuccessMessage(\"매장이 성공적으로 등록되었습니다!\");\r\n                // Optional: clear form or redirect\r\n                // setStoreUrl(\"\");\r\n                // setExtractedName(\"\");\r\n            } else {\r\n                setError(result.error || \"매장 등록에 실패했습니다.\");\r\n            }\r\n        } catch (e) {\r\n            console.error(e)\r\n            setError(\"매장 등록 중 시스템 오류가 발생했습니다.\");\r\n        } finally {\r\n            setIsRegistering(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"p-8 space-y-8\">\r\n            <div>\r\n                <h2 className=\"text-3xl font-bold tracking-tight text-white\">내 매장 분석</h2>\r\n                <p className=\"text-slate-400 mt-2\">\r\n                    매장 URL을 등록하고 분석 리포트를 받아보세요.\r\n                </p>\r\n            </div>\r\n\r\n            <div className=\"grid gap-6 md:grid-cols-2\">\r\n                <Card className=\"bg-slate-900 border-slate-800 text-white\">\r\n                    <CardHeader>\r\n                        <CardTitle className=\"flex items-center gap-2\">\r\n                            <Store className=\"h-5 w-5 text-blue-400\" />\r\n                            매장 등록\r\n                        </CardTitle>\r\n                    </CardHeader>\r\n                    <CardContent className=\"space-y-6\">\r\n                        <div className=\"space-y-2\">\r\n                            <Label htmlFor=\"store-url\" className=\"text-white\">네이버 지도 매장 URL</Label>\r\n                            <div className=\"flex gap-2\">\r\n                                <Input\r\n                                    id=\"store-url\"\r\n                                    placeholder=\"https://naver.me/...\"\r\n                                    value={storeUrl}\r\n                                    onChange={(e) => setStoreUrl(e.target.value)}\r\n                                    className=\"bg-slate-800 border-slate-700 text-white placeholder:text-slate-500\"\r\n                                />\r\n                                <Button\r\n                                    onClick={handleExtract}\r\n                                    disabled={isLoading || !storeUrl}\r\n                                    className=\"bg-blue-600 hover:bg-blue-700\"\r\n                                >\r\n                                    {isLoading ? \"추출 중...\" : <><Search className=\"mr-2 h-4 w-4\" /> 찾기</>}\r\n                                </Button>\r\n                            </div>\r\n                            <p className=\"text-xs text-slate-500\">\r\n                                예: https://naver.me/5Kqz2lc7\r\n                            </p>\r\n                        </div>\r\n\r\n                        {extractedName && (\r\n                            <div className=\"p-4 rounded-lg bg-slate-800 border border-slate-700 space-y-4 animate-in fade-in slide-in-from-top-2\">\r\n                                <div className=\"space-y-1\">\r\n                                    <Label className=\"text-slate-400 text-xs\">추출된 매장명</Label>\r\n                                    <div className=\"text-lg font-bold text-white\">{extractedName}</div>\r\n                                </div>\r\n\r\n                                <Button\r\n                                    onClick={handleRegister}\r\n                                    disabled={isRegistering}\r\n                                    className=\"w-full bg-green-600 hover:bg-green-700 text-white\"\r\n                                >\r\n                                    {isRegistering ? \"등록 중...\" : \"이 매장 등록하기\"}\r\n                                </Button>\r\n                            </div>\r\n                        )}\r\n\r\n                        {error && (\r\n                            <Alert variant=\"destructive\" className=\"bg-red-900/20 border-red-900\">\r\n                                <AlertCircle className=\"h-4 w-4\" />\r\n                                <AlertTitle>오류</AlertTitle>\r\n                                <AlertDescription>{error}</AlertDescription>\r\n                            </Alert>\r\n                        )}\r\n\r\n                        {successMessage && (\r\n                            <Alert className=\"bg-green-900/20 border-green-900 text-green-400\">\r\n                                <CheckCircle className=\"h-4 w-4\" />\r\n                                <AlertTitle>성공</AlertTitle>\r\n                                <AlertDescription>{successMessage}</AlertDescription>\r\n                            </Alert>\r\n                        )}\r\n                    </CardContent>\r\n                </Card>\r\n\r\n                {/* Placeholder for future analysis content or description */}\r\n                <div className=\"space-y-6 text-slate-400\">\r\n                    <div className=\"p-6 rounded-lg bg-slate-900/50 border border-slate-800 border-dashed h-full flex flex-col items-center justify-center text-center\">\r\n                        <BarChartIcon className=\"h-12 w-12 text-slate-600 mb-4\" />\r\n                        <h3 className=\"text-lg font-medium text-white\">매장 분석 인사이트</h3>\r\n                        <p className=\"text-sm mt-2 max-w-xs\">\r\n                            매장을 등록하면 리뷰 분석, 키워드 트렌드, 방문자 통계 등 다양한 인사이트를 확인할 수 있습니다.\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction BarChartIcon(props: React.SVGProps<SVGSVGElement>) {\r\n    return (\r\n        <svg\r\n            {...props}\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"24\"\r\n            height=\"24\"\r\n            viewBox=\"0 0 24 24\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            strokeWidth=\"2\"\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n        >\r\n            <line x1=\"12\" x2=\"12\" y1=\"20\" y2=\"10\" />\r\n            <line x1=\"18\" x2=\"18\" y1=\"20\" y2=\"4\" />\r\n            <line x1=\"6\" x2=\"6\" y1=\"20\" y2=\"16\" />\r\n        </svg>\r\n    )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}